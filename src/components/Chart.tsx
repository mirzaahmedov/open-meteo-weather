import {
  VictoryLine,
  VictoryChart,
  VictoryAxis,
  VictoryZoomContainer,
} from "victory";
import styled, { useTheme } from "styled-components";

const openMeteoData = {
  time: [
    "2023-02-04T00:00",
    "2023-02-04T01:00",
    "2023-02-04T02:00",
    "2023-02-04T03:00",
    "2023-02-04T04:00",
    "2023-02-04T05:00",
    "2023-02-04T06:00",
    "2023-02-04T07:00",
    "2023-02-04T08:00",
    "2023-02-04T09:00",
    "2023-02-04T10:00",
    "2023-02-04T11:00",
    "2023-02-04T12:00",
    "2023-02-04T13:00",
    "2023-02-04T14:00",
    "2023-02-04T15:00",
    "2023-02-04T16:00",
    "2023-02-04T17:00",
    "2023-02-04T18:00",
    "2023-02-04T19:00",
    "2023-02-04T20:00",
    "2023-02-04T21:00",
    "2023-02-04T22:00",
    "2023-02-04T23:00",
    "2023-02-05T00:00",
    "2023-02-05T01:00",
    "2023-02-05T02:00",
    "2023-02-05T03:00",
    "2023-02-05T04:00",
    "2023-02-05T05:00",
    "2023-02-05T06:00",
    "2023-02-05T07:00",
    "2023-02-05T08:00",
    "2023-02-05T09:00",
    "2023-02-05T10:00",
    "2023-02-05T11:00",
    "2023-02-05T12:00",
    "2023-02-05T13:00",
    "2023-02-05T14:00",
    "2023-02-05T15:00",
    "2023-02-05T16:00",
    "2023-02-05T17:00",
    "2023-02-05T18:00",
    "2023-02-05T19:00",
    "2023-02-05T20:00",
    "2023-02-05T21:00",
    "2023-02-05T22:00",
    "2023-02-05T23:00",
    "2023-02-06T00:00",
    "2023-02-06T01:00",
    "2023-02-06T02:00",
    "2023-02-06T03:00",
    "2023-02-06T04:00",
    "2023-02-06T05:00",
    "2023-02-06T06:00",
    "2023-02-06T07:00",
    "2023-02-06T08:00",
    "2023-02-06T09:00",
    "2023-02-06T10:00",
    "2023-02-06T11:00",
    "2023-02-06T12:00",
    "2023-02-06T13:00",
    "2023-02-06T14:00",
    "2023-02-06T15:00",
    "2023-02-06T16:00",
    "2023-02-06T17:00",
    "2023-02-06T18:00",
    "2023-02-06T19:00",
    "2023-02-06T20:00",
    "2023-02-06T21:00",
    "2023-02-06T22:00",
    "2023-02-06T23:00",
    "2023-02-07T00:00",
    "2023-02-07T01:00",
    "2023-02-07T02:00",
    "2023-02-07T03:00",
    "2023-02-07T04:00",
    "2023-02-07T05:00",
    "2023-02-07T06:00",
    "2023-02-07T07:00",
    "2023-02-07T08:00",
    "2023-02-07T09:00",
    "2023-02-07T10:00",
    "2023-02-07T11:00",
    "2023-02-07T12:00",
    "2023-02-07T13:00",
    "2023-02-07T14:00",
    "2023-02-07T15:00",
    "2023-02-07T16:00",
    "2023-02-07T17:00",
    "2023-02-07T18:00",
    "2023-02-07T19:00",
    "2023-02-07T20:00",
    "2023-02-07T21:00",
    "2023-02-07T22:00",
    "2023-02-07T23:00",
    "2023-02-08T00:00",
    "2023-02-08T01:00",
    "2023-02-08T02:00",
    "2023-02-08T03:00",
    "2023-02-08T04:00",
    "2023-02-08T05:00",
    "2023-02-08T06:00",
    "2023-02-08T07:00",
    "2023-02-08T08:00",
    "2023-02-08T09:00",
    "2023-02-08T10:00",
    "2023-02-08T11:00",
    "2023-02-08T12:00",
    "2023-02-08T13:00",
    "2023-02-08T14:00",
    "2023-02-08T15:00",
    "2023-02-08T16:00",
    "2023-02-08T17:00",
    "2023-02-08T18:00",
    "2023-02-08T19:00",
    "2023-02-08T20:00",
    "2023-02-08T21:00",
    "2023-02-08T22:00",
    "2023-02-08T23:00",
    "2023-02-09T00:00",
    "2023-02-09T01:00",
    "2023-02-09T02:00",
    "2023-02-09T03:00",
    "2023-02-09T04:00",
    "2023-02-09T05:00",
    "2023-02-09T06:00",
    "2023-02-09T07:00",
    "2023-02-09T08:00",
    "2023-02-09T09:00",
    "2023-02-09T10:00",
    "2023-02-09T11:00",
    "2023-02-09T12:00",
    "2023-02-09T13:00",
    "2023-02-09T14:00",
    "2023-02-09T15:00",
    "2023-02-09T16:00",
    "2023-02-09T17:00",
    "2023-02-09T18:00",
    "2023-02-09T19:00",
    "2023-02-09T20:00",
    "2023-02-09T21:00",
    "2023-02-09T22:00",
    "2023-02-09T23:00",
    "2023-02-10T00:00",
    "2023-02-10T01:00",
    "2023-02-10T02:00",
    "2023-02-10T03:00",
    "2023-02-10T04:00",
    "2023-02-10T05:00",
    "2023-02-10T06:00",
    "2023-02-10T07:00",
    "2023-02-10T08:00",
    "2023-02-10T09:00",
    "2023-02-10T10:00",
    "2023-02-10T11:00",
    "2023-02-10T12:00",
    "2023-02-10T13:00",
    "2023-02-10T14:00",
    "2023-02-10T15:00",
    "2023-02-10T16:00",
    "2023-02-10T17:00",
    "2023-02-10T18:00",
    "2023-02-10T19:00",
    "2023-02-10T20:00",
    "2023-02-10T21:00",
    "2023-02-10T22:00",
    "2023-02-10T23:00",
  ],
  temperature_2m: [
    5.2, 5.4, 5.6, 5.6, 6, 7, 8.4, 9.7, 10.6, 11.3, 11.4, 11.5, 11, 9.7, 8.9,
    8.2, 7.9, 7.2, 6.6, 6.3, 6.1, 6.1, 6.3, 6.5, 6.1, 5.9, 5.6, 5.4, 6, 7.4,
    8.7, 9.7, 10.5, 10.7, 10.7, 10.3, 9.6, 8.2, 7.1, 6.3, 5.7, 5, 4.5, 4.1, 3.8,
    3.3, 2.9, 2.6, 2.4, 2.4, 2.2, 2.1, 2.7, 4.7, 6.5, 7.5, 8.5, 8.9, 9, 8.5,
    7.9, 7, 6.6, 6, 5.5, 4.9, 4.5, 4.1, 3.5, 2.8, 2.1, 1.9, 1.8, 1.7, 1.5, 1.5,
    2.6, 5.7, 8, 9.5, 10.8, 11.9, 12.1, 11.8, 10.9, 9.9, 8.5, 6.8, 5.9, 5.2,
    4.5, 3.9, 3.5, 3, 2.6, 2.3, 2, 1.8, 1.6, 2.1, 3.3, 5.1, 7.1, 8.1, 8.9, 9.3,
    9, 8.2, 7.2, 6.7, 6.3, 6, 6.1, 6.3, 6.5, 6.3, 6, 5.8, 5.8, 6, 5.9, 5.5, 4.9,
    4.3, 4.3, 4.4, 4.5, 4.4, 4.4, 4.3, 4.5, 4.7, 4.8, 4.6, 4.2, 3.7, 3.4, 3,
    2.6, 2.3, 2, 1.7, 1.3, 0.9, 0.4, 0, -0.5, -0.9, -0.8, -0.6, -0.1, 0.5, 1.1,
    1.8, 2, 2.2, 2.1, 1.7, 1, 0.3, 0, -0.2, -0.5, -0.7, -0.8, -1, -1.1, -1.1,
  ],
};

const data = openMeteoData.time.map<{
  time: string;
  temperature: number;
}>((key, index) => {
  return {
    time: key,
    temperature: openMeteoData.temperature_2m[index],
  };
});

const Container = styled.div`
  width: 200%;
  left: 50%;
  margin-left: -50%;
`;

const Chart = () => {
  const { colors } = useTheme();
  return (
    <Container>
      <VictoryChart containerComponent={<VictoryZoomContainer />}>
        <VictoryAxis
          tickFormat={(time, temperature) => `${temperature} Â°C \n ${time}`}
          animate={{
            duration: 2000,
            onLoad: { duration: 1000 },
          }}
          style={{
            axis: { display: "none" },
            tickLabels: { fontSize: 14, fill: colors.white.main },
            grid: { stroke: colors.white.transparent },
          }}
        />
        <VictoryLine
          style={{
            data: { stroke: colors.white.main },
          }}
          data={data.slice(0, 10)}
          x="time"
          y="temperature"
        />
      </VictoryChart>
    </Container>
  );
};

export default Chart;
